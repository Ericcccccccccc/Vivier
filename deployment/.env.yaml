# Environment variables for Cloud Run deployment
# This file is used by gcloud run deploy --set-env-vars-from-file

# Node environment
NODE_ENV: production

# Server configuration
PORT: "8080"
HOST: "0.0.0.0"

# Logging
LOG_LEVEL: info
LOG_FORMAT: json

# CORS configuration
CORS_ORIGIN: https://email-ai.vercel.app
CORS_CREDENTIALS: "true"

# Rate limiting
RATE_LIMIT_WINDOW_MS: "60000"
RATE_LIMIT_MAX: "100"

# Request limits
MAX_FILE_SIZE: "10485760"
REQUEST_TIMEOUT: "30000"

# Cache configuration
CACHE_TTL: "3600"
CACHE_CHECK_PERIOD: "600"

# Frontend URL (for email links, etc.)
FRONTEND_URL: https://email-ai.vercel.app

# API configuration
API_VERSION: v1
API_PREFIX: /api/v1

# Security
HELMET_ENABLED: "true"
COMPRESSION_ENABLED: "true"

# Session configuration
SESSION_SECRET: ${JWT_SECRET}
SESSION_EXPIRY: "7d"

# Email processing
MAX_EMAIL_SIZE: "25000000"
ATTACHMENT_STORAGE: cloud
MAX_THREAD_LENGTH: "100"

# AI Configuration
AI_PROVIDER: groq
AI_MODEL: mixtral-8x7b-32768
AI_MAX_TOKENS: "4096"
AI_TEMPERATURE: "0.7"
AI_TIMEOUT: "30000"

# WhatsApp Bot Configuration
WHATSAPP_ENABLED: "true"
WHATSAPP_SESSION_PATH: /opt/whatsapp-bot/sessions
WHATSAPP_MAX_MESSAGE_LENGTH: "4096"

# Background jobs
CLEANUP_CRON: "0 0 * * *"
BACKUP_CRON: "0 2 * * *"

# Monitoring
METRICS_ENABLED: "true"
HEALTH_CHECK_INTERVAL: "30000"

# Feature flags
FEATURE_EMAIL_PARSING: "true"
FEATURE_ATTACHMENT_PROCESSING: "true"
FEATURE_SMART_COMPOSE: "true"
FEATURE_THREAD_ANALYSIS: "true"
FEATURE_WHATSAPP_INTEGRATION: "true"

# Performance
WORKER_THREADS: "2"
CLUSTER_ENABLED: "false"

# Database connection pooling
DB_POOL_MIN: "2"
DB_POOL_MAX: "10"
DB_IDLE_TIMEOUT: "10000"

# Redis configuration (if using Redis for caching/sessions)
REDIS_ENABLED: "false"
REDIS_HOST: ""
REDIS_PORT: "6379"
REDIS_PASSWORD: ""
REDIS_DB: "0"

# Webhook configuration
WEBHOOK_TIMEOUT: "5000"
WEBHOOK_RETRY_ATTEMPTS: "3"
WEBHOOK_RETRY_DELAY: "1000"

# Cloud Storage
GCS_BUCKET: ${PROJECT_ID}-attachments
GCS_PUBLIC_URL: https://storage.googleapis.com

# Observability
OTEL_ENABLED: "false"
OTEL_SERVICE_NAME: email-ai-api
OTEL_TRACES_EXPORTER: console
OTEL_METRICS_EXPORTER: console

# Development/Debug (set to false in production)
DEBUG: "false"
VERBOSE_ERRORS: "false"
STACK_TRACE_LIMIT: "10"